:root{
  --bg1:#2b0036;
  --bg2:#5a1f6b;
  --accent:#ff8fb1;
  --soft:#ffd7e6;
  --card:rgba(255,255,255,0.96);
  --text-dark:#1a0b12;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg1),var(--bg2));color:#fff;-webkit-font-smoothing:antialiased}
.container{min-height:100vh;display:flex;flex-direction:column;align-items:stretch;padding:18px}
.header{text-align:center;margin-top:8px}
.header h1{font-size:20px;margin:0 0 6px;font-weight:600;letter-spacing:0.2px}
.sub{margin:0;color:rgba(255,255,255,0.9)}

.sky{
  margin:18px auto;
  width:100%;
  max-width:820px;
  height:66vh;
  min-height:480px;
  border-radius:18px;
  position:relative;
  overflow:hidden;
  background:
    radial-gradient(1200px 400px at 10% 20%, rgba(255,140,177,0.05), transparent 10%),
    radial-gradient(800px 300px at 90% 80%, rgba(255,255,255,0.02), transparent 30%),
    linear-gradient(180deg, rgba(255,255,255,0.02), transparent 30%),
    linear-gradient(180deg, #231028, #2c1140);
  box-shadow: 0 8px 30px rgba(0,0,0,0.45), inset 0 0 40px rgba(255,143,177,0.03);
  padding:18px;
}

/* moon */
.moon{
  position:absolute;
  right:12%;
  top:10%;
  width:78px;
  height:78px;
  border-radius:50%;
  background: radial-gradient(circle at 35% 35%, #ffeef6, #ffdff0 20%, #f8d2e6 40%, transparent 60%);
  box-shadow: 0 6px 22px rgba(255,143,177,0.08), 0 0 40px rgba(255,143,177,0.06);
  transform:translateZ(0);
  filter:blur(.2px);
}

/* twinkles (small background) */
.twinkles{position:absolute;inset:0;pointer-events:none}

/* stars container */
.stars{position:relative;width:100%;height:100%}

/* basic star/heart */
.star {
  position:absolute;
  width:44px;
  height:44px;
  transform-origin:center;
  transition:transform .25s ease, opacity .25s ease;
  -webkit-tap-highlight-color: transparent;
  border-radius:50%;
}
.star.disabled{cursor:default;opacity:.28}
.star.unlocked{cursor:pointer}

/* heart SVG scale */
.star .heart-svg{width:54px;height:54px; display:block; transform:translate(-50%,-50%); position:absolute; left:50%; top:50%;}

/* heart pulse + glow */
.star.unlocked .heart-svg { animation:heartPulse 2.6s ease-in-out infinite; filter:drop-shadow(0 8px 18px rgba(255,120,160,0.18)); }
@keyframes heartPulse {
  0% { transform: translate(-50%,-50%) scale(1); }
  50% { transform: translate(-50%,-50%) scale(1.12); }
  100% { transform: translate(-50%,-50%) scale(1); }
}

/* small round twinkles */
.star .mini { position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); width:8px; height:8px; border-radius:50%; background:var(--soft); opacity:0.95; filter:blur(6px); }

/* modal */
.modal{ position:fixed;inset:0;display:flex;align-items:center;justify-content:center;padding:16px;background:linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.65)); opacity:0;pointer-events:none;transition:opacity .18s ease;}
.modal.show{opacity:1;pointer-events:auto}
.modal-content{ width:100%;max-width:460px;background:var(--card);color:var(--text-dark);border-radius:14px;padding:18px;box-shadow:0 10px 40px rgba(0,0,0,0.4); position:relative; }
.close{position:absolute;right:14px;top:12px;background:transparent;border:0;font-size:18px;cursor:pointer}
.modal-text{font-size:15px;line-height:1.45;margin:8px 0 12px;color:#222}
.modal-foot{display:flex;justify-content:space-between;align-items:center;color:#555;font-size:13px}

/* footer */
.footer{margin-top:14px;text-align:center;color:rgba(255,255,255,0.9)}
.hint{font-size:13px;color:rgba(255,255,255,0.65)}

/* letter holder for Dec 4 formation */
.letter-holder{position:absolute;inset:0;pointer-events:none}

/* responsiveness */
@media (max-width:520px){
  .sky{height:62vh;min-height:420px;border-radius:12px;padding:12px}
  .header h1{font-size:18px}
  .modal-content{padding:14px}
}
